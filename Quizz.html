<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quizz pour ma copine ‚ù§Ô∏è</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.0.1"></script>
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            text-align: center;
            margin: 50px;
            background: linear-gradient(to right, #ff9a9e, #fad0c4);
            color: #fff;
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 20px;
            text-shadow: 2px 2px 5px rgba(0,0,0,0.2);
        }

        #progress {
            font-size: 1.2em;
            margin-bottom: 20px;
        }

        .question {
            background: rgba(255, 255, 255, 0.3);
            padding: 20px;
            border-radius: 15px;
            margin: 20px auto;
            width: 90%;
            max-width: 600px;
            box-shadow: 0px 4px 15px rgba(0,0,0,0.3);
            display: none;
            transition: all 0.5s ease-in-out;
            position: relative;
            border: 2px solid white;
        }

        .date {
            position: absolute;
            top: 10px;
            left: 15px;
            font-size: 0.9em;
            background: rgba(255, 255, 255, 0.8);
            padding: 5px 10px;
            border-radius: 5px;
            color: #E84855;
            font-weight: bold;
            text-shadow: 1px 1px 4px rgba(0,0,0,0.3);
        }

        .countdown {
            font-size: 1em;
            font-weight: bold;
            color: #fff;
            margin-top: 10px;
        }

        .question p {
            font-size: 1.4em;
            font-weight: bold;
            text-shadow: 1px 1px 4px rgba(0,0,0,0.3);
        }

        input {
            padding: 12px;
            width: 90%;
            max-width: 400px;
            border: none;
            border-radius: 10px;
            text-align: center;
            font-size: 1.1em;
            background: rgba(255, 255, 255, 0.8);
        }

        button {
            padding: 12px 25px;
            margin-top: 15px;
            cursor: pointer;
            border: none;
            border-radius: 10px;
            background: #ff4b5c;
            color: white;
            font-size: 1.2em;
            transition: 0.3s;
            font-weight: bold;
        }

        button:hover {
            background: #e63950;
        }

        .result {
            margin-top: 10px;
            font-size: 1.2em;
            font-weight: bold;
        }

        .background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

    </style>
</head>
<body>
    <h1>‚ù§Ô∏è Le quizz de la star ‚ù§Ô∏è</h1>
    <p id="progress">Questions d√©bloqu√©es : 0 / 15</p>
    <p id="next-unlock" class="countdown"></p>
    <div class="background"></div>
    <div id="questions">
        <div class="question" data-unlock="2025-01-06">
            <span class="date">6 janvier 2025</span>
            <p>Comment √©tais-je habill√© lors du 1er date au niveau du haut du corps ? (type de v√™tement + couleur sous format "X Y" ‚Üí ex : "Pull Rouge")</p>
            <input type="text" id="answer1" placeholder="Ta r√©ponse ici">
            <button onclick="checkAnswer('answer1', 'T-shirt beige')">Valider</button>
            <p class="result"></p>
        </div>


        <div class="question" data-unlock="2025-01-13">
            <span class="date">13 janvier 2025</span>
            <p>Combien de plats avais-je pr√©par√© pour le 3√®me date ?</p>
            <input type="text" id="answer2" placeholder="Ta r√©ponse ici">
            <button onclick="checkAnswer('answer2', '4')">Valider</button>
            <p class="result"></p>
        </div>


        <div class="question" data-unlock="2025-01-20">
            <span class="date">20 janvier 2025</span>
            <p>Combien avons-nous d'heure de jeux sur "It Takes Two" ?</p>
            <input type="text" id="answer3" placeholder="Ta r√©ponse ici">
            <button onclick="checkAnswer('answer3', '5')">Valider</button>
            <p class="result"></p>
        </div>


        <div class="question" data-unlock="2025-01-27">
            <span class="date">27 janvier 2025</span>
            <p>Combien ai-je de qualit√© ? (environ parce que j'en ai beaucoup)</p>
            <input type="text" id="answer4" placeholder="Ta r√©ponse ici">
            <button onclick="checkAnswer('answer4', 'Infini')">Valider</button>
            <p class="result"></p>
        </div>


        <div class="question" data-unlock="2025-02-01">
            <span class="date">1er f√©vrier 2025</span>
            <p>Combien ai-je de d√©faut ? (chiffre exact par contre pour celle-ci)</p>
            <input type="text" id="answer5" placeholder="Ta r√©ponse ici">
            <button onclick="checkAnswer('answer5', '1')">Valider</button>
            <p class="result"></p>
        </div>


        <div class="question" data-unlock="2025-02-10">
            <span class="date">10 f√©vrier 2025</span>
            <p>Quelle est ma position pr√©f√©r√©e ? (pour l'instant üòè)</p>
            <input type="text" id="answer6" placeholder="Ta r√©ponse ici">
            <button onclick="checkAnswer('answer6', 'La levrette')">Valider</button>
            <p class="result"></p>
        </div>


        <div class="question" data-unlock="2025-02-17">
            <span class="date">17 f√©vrier 2025</span>
            <p>Quelle est ma couleur pr√©f√©r√©e ?</p>
            <input type="text" id="answer7" placeholder="Ta r√©ponse ici">
            <button onclick="checkAnswer('answer7', 'Rouge')">Valider</button>
            <p class="result"></p>
        </div>


        <div class="question" data-unlock="2025-02-24">
            <span class="date">24 f√©vrier 2025</span>
            <p>Combien avons-nous fait de restaurant ensemble ? (sans compter les Mcdo et FKC)</p>
            <input type="text" id="answer8" placeholder="Ta r√©ponse ici">
            <button onclick="checkAnswer('answer8', '13')">Valider</button>
            <p class="result"></p>
        </div>


        <div class="question" data-unlock="2025-03-03">
            <span class="date">3 mars 2025</span>
            <p>Combien de fois avons-nous fait l'amour ? (r√©ponse approximative)</p>
            <input type="text" id="answer9" placeholder="Ta r√©ponse ici">
            <button onclick="checkAnswer('answer9', 'Pas assez')">Valider</button>
            <p class="result"></p>
        </div>
        

        <div class="question" data-unlock="2025-03-10">
            <span class="date">10 mars 2025</span>
            <p>Sur une √©chelle de 1 √† 10 : combien je t'aime ?</p>
            <input type="text" id="answer14" placeholder="Ta r√©ponse ici">
            <button onclick="checkAnswer('answer14', 'Infini')">Valider</button>
            <p class="result"></p>
        </div>


        <div class="question" data-unlock="2025-03-17">
            <span class="date">17 mars 2025</span>
            <p>Combien de capotes avons-nous utilis√© ?</p>
            <input type="text" id="answer10" placeholder="Ta r√©ponse ici">
            <button onclick="checkAnswer('answer10', '62')">Valider</button>
            <p class="result"></p>
        </div>


        <div class="question" data-unlock="2025-03-24">
            <span class="date">24 mars 2025</span>
            <p>Es-tu parisienne ?</p>
            <input type="text" id="answer11" placeholder="Ta r√©ponse ici">
            <button onclick="checkAnswer('answer11', 'Oui')">Valider</button>
            <p class="result"></p>
        </div>


        <div class="question" data-unlock="2025-03-31">
            <span class="date">31 mars 2025</span>
            <p>Quel est mon plat pr√©f√©r√© ?</p>
            <input type="text" id="answer12" placeholder="Ta r√©ponse ici">
            <button onclick="checkAnswer('answer12', 'P√¢tes au pesto rosso')">Valider</button>
            <p class="result"></p>
        </div>


        <div class="question" data-unlock="2025-04-07">
            <span class="date">7 avril 2025</span>
            <p>Quelle √©tait le jour (sous format date jj/mm/aaaa) o√π je t'ai propos√© le fameux caf√© ? ‚Üí pure d√©duction de ma part apr√®s d'intenses recherches</p>
            <input type="text" id="answer13" placeholder="Ta r√©ponse ici">
            <button onclick="checkAnswer('answer13', '19/07/2024')">Valider</button>
            <p class="result"></p>
        </div>


        <div class="question" data-unlock="2025-04-07">
            <span class="date">Last bonus</span>
            <p>Sur une √©chelle de 1 √† 10 : √† combien se situe mon envie de te revoir ?</p>
            <input type="text" id="answer15" placeholder="Ta r√©ponse ici">
            <button onclick="checkAnswer('answer15', 'Infini')">Valider</button>
            <p class="result"></p>
        </div>

        <div class="question" data-unlock="2025-02-01">
            <span class="date">Bonus 1</span>
            <p>Quel est mon seul d√©faut ?</p>
            <input type="text" id="answer16" placeholder="Ta r√©ponse ici">
            <button onclick="checkAnswer('answer16', 'La perfection')">Valider</button>
            <p class="result"></p>
        </div>

        <div class="question" data-unlock="2025-03-31">
            <span class="date">Bonus 2</span>
            <p>Quel est mon dessert pr√©f√©r√© ?</p>
            <input type="text" id="answer17" placeholder="Ta r√©ponse ici">
            <button onclick="checkAnswer('answer17', 'Toi')">Valider</button>
            <p class="result"></p>
        </div>

    </div>


    <script>
        function checkAnswer(inputId, correctAnswer) {
            let inputField = document.getElementById(inputId);
            let response = inputField.value.trim().toLowerCase();
            let questionDiv = inputField.closest('.question');
            let resultMessage = questionDiv.querySelector(".result");

            if (response === correctAnswer.trim().toLowerCase()) {
                confettiEffect();
                resultMessage.innerHTML = "Bravo ! üéâ";
                resultMessage.style.color = "#0f0";
            } else {
                resultMessage.innerHTML = "Essaie encore ! üòò";
                resultMessage.style.color = "#ff4d4d";
            }
        }

        function unlockQuestions() {
            let today = new Date();
            let unlockedCount = 0;
            let totalQuestions = document.querySelectorAll(".question").length;
            let nextUnlockDate = null;
            
            document.querySelectorAll(".question").forEach(question => {
                let unlockDate = new Date(question.getAttribute("data-unlock"));
                if (today >= unlockDate) {
                    question.style.display = "block";
                    unlockedCount++;
                } else if (!nextUnlockDate || unlockDate < nextUnlockDate) {
                    nextUnlockDate = unlockDate;
                }
            });
            document.getElementById("progress").innerText = `Questions d√©bloqu√©es : ${unlockedCount} / ${unlockQuestions}`;
            
            if (nextUnlockDate) {
                let countdown = setInterval(() => {
                    let now = new Date();
                    let timeLeft = nextUnlockDate - now;
                    if (timeLeft <= 0) {
                        clearInterval(countdown);
                        unlockQuestions();
                    } else {
                        let days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
                        let hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                        let minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
                        document.getElementById("next-unlock").innerText = `Prochaine question dans : ${days}j ${hours}h ${minutes}m`;
                    }
                }, 1000);
            }
        }

        function confettiEffect() {
            var duration = 2 * 1000;
            var end = Date.now() + duration;
            (function frame() {
                confetti({ particleCount: 5, spread: 100 });
                if (Date.now() < end) {
                    requestAnimationFrame(frame);
                }
            })();
        }

        unlockQuestions();

        function createParticles() {
            let canvas = document.createElement("canvas");
            document.querySelector(".background").appendChild(canvas);
            let ctx = canvas.getContext("2d");
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            let particles = [];

            function Particle() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.radius = Math.random() * 4;
                this.dx = (Math.random() - 0.8) * 0.8;
                this.dy = (Math.random() - 0.8) * 0.8;
            }

            Particle.prototype.update = function () {
                this.x += this.dx;
                this.y += this.dy;
                if (this.x < 0 || this.x > canvas.width) this.dx *= -1;
                if (this.y < 0 || this.y > canvas.height) this.dy *= -1;
            };

            Particle.prototype.draw = function () {
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                ctx.fillStyle = "rgba(255, 255, 255, 0.5)";
                ctx.fill();
            };

            function initParticles() {
                for (let i = 0; i < 100; i++) {
                    particles.push(new Particle());
                }
            }

            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                particles.forEach(p => {
                    p.update();
                    p.draw();
                });
                requestAnimationFrame(animate);
            }

            initParticles();
            animate();
        }

        createParticles();
    </script>
</body>
</html>
